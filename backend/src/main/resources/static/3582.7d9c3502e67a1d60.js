"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3582],{3582:(A,h,a)=>{a.r(h),a.d(h,{UserDevicePageModule:()=>E,UserDeviceResolve:()=>U});var m=a(4135),o=a(8779),l=a(9808),v=a(4030),u=a(1284),p=a(3075),y=a(1086),_=a(2198),D=a(4850),d=a(655),e=a(1269),S=a(5146),x=a(9393),I=a(520);let f=(()=>{class s{constructor(t){this.http=t,this.resourceUrl=S.s.API_URL+"/user-devices"}create(t){return this.http.post(this.resourceUrl,t,{observe:"response"})}update(t){return this.http.put(`${this.resourceUrl}/${t.id}`,t,{observe:"response"})}find(t){return this.http.get(`${this.resourceUrl}/${t}`,{observe:"response"})}query(t){const i=(0,x.b)(t);return this.http.get(this.resourceUrl,{params:i,observe:"response"})}delete(t){return this.http.delete(`${this.resourceUrl}/${t}`,{observe:"response"})}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(I.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function O(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"ion-item-sliding",null,9)(2,"ion-item",7),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().view(c)}),e.TgZ(3,"ion-label",10)(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.ALo(13,"date"),e.qZA()()(),e.TgZ(14,"ion-item-options",11)(15,"ion-item-option",12),e.NdJ("click",function(){const c=e.CHM(t).$implicit,g=e.MAs(1);return e.oxw().edit(g,c)}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"ion-item-option",13),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().delete(c)}),e._uU(19),e.ALo(20,"translate"),e.qZA()()()}if(2&s){const t=r.$implicit;e.xp6(5),e.Oqu(t.id),e.xp6(2),e.Oqu(t.deviceId),e.xp6(2),e.Oqu(e.xi3(10,6,t.dateRegistration,"mediumDate")),e.xp6(3),e.Oqu(e.xi3(13,9,t.lastUpdate,"mediumDate")),e.xp6(4),e.hij(" ",e.lcZ(17,12,"EDIT_BUTTON")," "),e.xp6(3),e.hij(" ",e.lcZ(20,14,"DELETE_BUTTON")," ")}}function R(s,r){1&s&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2," No User Devices found. "),e.qZA()())}let q=(()=>{class s{constructor(t,i,n,c){this.navController=t,this.userDeviceService=i,this.toastCtrl=n,this.plt=c,this.userDevices=[]}ionViewWillEnter(){return(0,d.mG)(this,void 0,void 0,function*(){yield this.loadAll()})}loadAll(t){return(0,d.mG)(this,void 0,void 0,function*(){this.userDeviceService.query().pipe((0,_.h)(i=>i.ok),(0,D.U)(i=>i.body)).subscribe(i=>{this.userDevices=i,void 0!==t&&setTimeout(()=>{t.target.complete()},750)},i=>(0,d.mG)(this,void 0,void 0,function*(){console.error(i),yield(yield this.toastCtrl.create({message:"Failed to load data",duration:2e3,position:"middle"})).present()}))})}trackId(t,i){return i.id}new(){return(0,d.mG)(this,void 0,void 0,function*(){yield this.navController.navigateForward("/tabs/entities/user-device/new")})}edit(t,i){return(0,d.mG)(this,void 0,void 0,function*(){yield this.navController.navigateForward("/tabs/entities/user-device/"+i.id+"/edit"),yield t.close()})}delete(t){return(0,d.mG)(this,void 0,void 0,function*(){this.userDeviceService.delete(t.id).subscribe(()=>(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.toastCtrl.create({message:"UserDevice deleted successfully.",duration:3e3,position:"middle"})).present(),yield this.loadAll()}),i=>console.error(i))})}view(t){return(0,d.mG)(this,void 0,void 0,function*(){yield this.navController.navigateForward("/tabs/entities/user-device/"+t.id+"/view")})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(o.SH),e.Y36(f),e.Y36(o.yF),e.Y36(o.t4))},s.\u0275cmp=e.Xpm({type:s,selectors:[["page-user-device"]],decls:15,vars:4,consts:[["color","tertiary"],["slot","start"],[1,"ion-padding"],["slot","fixed",3,"disabled","ionRefresh"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],["slidingItem",""],["text-wrap",""],["side","end"],["color","primary",3,"click"],["color","danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"User Devices"),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"ion-refresher",3),e.NdJ("ionRefresh",function(c){return i.loadAll(c)}),e._UZ(8,"ion-refresher-content"),e.qZA(),e.TgZ(9,"ion-list"),e.YNc(10,O,21,16,"ion-item-sliding",4),e.qZA(),e.YNc(11,R,3,0,"ion-item",5),e.TgZ(12,"ion-fab",6)(13,"ion-fab-button",7),e.NdJ("click",function(){return i.new()}),e._UZ(14,"ion-icon",8),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("disabled",i.plt.is("desktop")),e.xp6(3),e.Q6J("ngForOf",i.userDevices)("ngForTrackBy",i.trackId),e.xp6(1),e.Q6J("ngIf",!(null!=i.userDevices&&i.userDevices.length)))},directives:[o.Gu,o.sr,o.Sm,o.oU,o.cs,o.wd,o.W2,o.nJ,o.Wo,o.q_,l.sg,o.td,o.Ie,o.Q$,o.IK,o.u8,l.O5,o.IJ,o.W4,o.gu],pipes:[l.uU,m.X$],encapsulation:2}),s})();class Z{constructor(r,t,i,n,c){this.id=r,this.deviceId=t,this.dateRegistration=i,this.lastUpdate=n,this.userAccount=c}}var C=a(9709);function F(s,r){1&s&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DONE_BUTTON")))}function P(s,r){1&s&&e._UZ(0,"ion-icon",8)}function Y(s,r){if(1&s&&(e.TgZ(0,"ion-select-option",15),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.id)}}function N(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"form",9),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().save()}),e.TgZ(1,"ion-list")(2,"ion-item")(3,"ion-label",10),e._uU(4,"Device Id"),e.qZA(),e._UZ(5,"ion-input",11),e.qZA(),e.TgZ(6,"ion-item")(7,"ion-label"),e._uU(8,"Date Registration"),e.qZA(),e._UZ(9,"ion-datetime",12),e.qZA(),e.TgZ(10,"ion-item")(11,"ion-label"),e._uU(12,"Last Update"),e.qZA(),e._UZ(13,"ion-datetime",13),e.qZA(),e.TgZ(14,"ion-item")(15,"ion-label"),e._uU(16,"User Account"),e.qZA(),e.TgZ(17,"ion-select",14),e._UZ(18,"ion-select-option",15),e.YNc(19,Y,2,2,"ion-select-option",16),e.qZA()()()()}if(2&s){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(17),e.Q6J("compareWith",t.compareUser),e.xp6(1),e.Q6J("value",null),e.xp6(1),e.Q6J("ngForOf",t.users)("ngForTrackBy",t.trackUserById)}}let T=(()=>{class s{constructor(t,i,n,c,g,b,J){this.activatedRoute=t,this.navController=i,this.formBuilder=n,this.platform=c,this.toastCtrl=g,this.userService=b,this.userDeviceService=J,this.isSaving=!1,this.isNew=!0,this.form=this.formBuilder.group({id:[null,[]],deviceId:[null,[]],dateRegistration:[null,[]],lastUpdate:[null,[]],userAccount:[null,[]]}),this.form.valueChanges.subscribe(L=>{this.isReadyToSave=this.form.valid})}ngOnInit(){this.userService.findAll().subscribe(t=>this.users=t,t=>this.onError(t)),this.activatedRoute.data.subscribe(t=>{this.userDevice=t.data,this.isNew=null==this.userDevice.id,this.updateForm(this.userDevice)})}updateForm(t){this.form.patchValue({id:t.id,deviceId:t.deviceId,dateRegistration:this.isNew?(new Date).toISOString().split("T")[0]:t.dateRegistration,lastUpdate:this.isNew?(new Date).toISOString().split("T")[0]:t.lastUpdate,userAccount:t.userAccount})}save(){this.isSaving=!0;const t=this.createFromForm();t.dateRegistration=new Date(t.dateRegistration).toISOString().split("T")[0],t.lastUpdate=new Date(t.lastUpdate).toISOString().split("T")[0],this.subscribeToSaveResponse(this.isNew?this.userDeviceService.create(t):this.userDeviceService.update(t))}subscribeToSaveResponse(t){t.subscribe(i=>this.onSaveSuccess(i),i=>this.onError(i.error))}onSaveSuccess(t){return(0,d.mG)(this,void 0,void 0,function*(){let i="updated";201===t.status&&(i="created"),this.isSaving=!1,yield(yield this.toastCtrl.create({message:`UserDevice ${i} successfully.`,duration:2e3,position:"middle"})).present(),yield this.navController.navigateBack("/tabs/entities/user-device")})}previousState(){window.history.back()}onError(t){return(0,d.mG)(this,void 0,void 0,function*(){this.isSaving=!1,console.error(t),yield(yield this.toastCtrl.create({message:"Failed to load data",duration:2e3,position:"middle"})).present()})}createFromForm(){return Object.assign(Object.assign({},new Z),{id:this.form.get(["id"]).value,deviceId:this.form.get(["deviceId"]).value,dateRegistration:this.form.get(["dateRegistration"]).value,lastUpdate:this.form.get(["lastUpdate"]).value,userAccount:this.form.get(["userAccount"]).value})}compareUser(t,i){return t&&t.id&&i&&i.id?t.id===i.id:t===i}trackUserById(t,i){return i.id}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(v.gz),e.Y36(o.SH),e.Y36(p.qu),e.Y36(o.t4),e.Y36(o.yF),e.Y36(C.K),e.Y36(f))},s.\u0275cmp=e.Xpm({type:s,selectors:[["page-user-device-update"]],decls:12,vars:4,consts:[["color","tertiary"],["slot","start"],["slot","end"],["color","primary",3,"disabled","click"],[4,"ngIf"],["name","checkmark",4,"ngIf"],[1,"ion-padding"],["name","form",3,"formGroup","ngSubmit",4,"ngIf"],["name","checkmark"],["name","form",3,"formGroup","ngSubmit"],["position","floating"],["type","text","name","deviceId","formControlName","deviceId"],["displayFormat","MM/DD/YYYY","formControlName","dateRegistration","id","field_dateRegistration"],["displayFormat","MM/DD/YYYY","formControlName","lastUpdate","id","field_lastUpdate"],["id","field_userAccount","formControlName","userAccount",3,"compareWith"],[3,"value"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"User Device"),e.qZA(),e.TgZ(6,"ion-buttons",2)(7,"ion-button",3),e.NdJ("click",function(){return i.save()}),e.YNc(8,F,3,3,"span",4),e.YNc(9,P,1,0,"ion-icon",5),e.qZA()()()(),e.TgZ(10,"ion-content",6),e.YNc(11,N,20,5,"form",7),e.qZA()),2&t&&(e.xp6(7),e.Q6J("disabled",!i.isReadyToSave),e.xp6(1),e.Q6J("ngIf",i.platform.is("ios")),e.xp6(1),e.Q6J("ngIf",!i.platform.is("ios")),e.xp6(2),e.Q6J("ngIf",i.form))},directives:[o.Gu,o.sr,o.Sm,o.oU,o.cs,o.wd,o.YG,l.O5,o.gu,o.W2,p._Y,p.JL,p.sg,o.q_,o.Ie,o.Q$,o.pK,o.j9,p.JJ,p.u,o.x4,o.QI,o.t9,o.n0,l.sg],pipes:[m.X$],encapsulation:2}),s})(),k=(()=>{class s{constructor(t,i,n,c){this.navController=t,this.userDeviceService=i,this.activatedRoute=n,this.alertController=c,this.userDevice={}}ngOnInit(){this.activatedRoute.data.subscribe(t=>{this.userDevice=t.data})}open(t){this.navController.navigateForward("/tabs/entities/user-device/"+t.id+"/edit")}deleteModal(t){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Confirm the deletion?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Delete",handler:()=>{this.userDeviceService.delete(t.id).subscribe(()=>{this.navController.navigateForward("/tabs/entities/user-device")})}}]})).present()})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(o.SH),e.Y36(f),e.Y36(v.gz),e.Y36(o.Br))},s.\u0275cmp=e.Xpm({type:s,selectors:[["page-user-device-detail"]],decls:45,vars:17,consts:[["color","tertiary"],["slot","start"],[1,"ion-padding"],["position","fixed"],["item-content",""],["id","id-content"],["id","deviceId-content"],["id","dateRegistration-content"],["id","lastUpdate-content"],["expand","block","color","primary",3,"click"],["expand","block","color","danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"User Device"),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"ion-list")(8,"ion-item")(9,"ion-label",3),e._uU(10,"ID"),e.qZA(),e.TgZ(11,"div",4)(12,"span",5),e._uU(13),e.qZA()()(),e.TgZ(14,"ion-item")(15,"ion-label",3),e._uU(16,"Device Id"),e.qZA(),e.TgZ(17,"div",4)(18,"span",6),e._uU(19),e.qZA()()(),e.TgZ(20,"ion-item")(21,"ion-label",3),e._uU(22,"Date Registration"),e.qZA(),e.TgZ(23,"div",4)(24,"span",7),e._uU(25),e.ALo(26,"date"),e.qZA()()(),e.TgZ(27,"ion-item")(28,"ion-label",3),e._uU(29,"Last Update"),e.qZA(),e.TgZ(30,"div",4)(31,"span",8),e._uU(32),e.ALo(33,"date"),e.qZA()()(),e.TgZ(34,"ion-item")(35,"ion-label"),e._uU(36,"User Account"),e.qZA(),e.TgZ(37,"div",4),e._uU(38),e.qZA()()(),e.TgZ(39,"ion-button",9),e.NdJ("click",function(){return i.open(i.userDevice)}),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"ion-button",10),e.NdJ("click",function(){return i.deleteModal(i.userDevice)}),e._uU(43),e.ALo(44,"translate"),e.qZA()()),2&t&&(e.xp6(13),e.Oqu(i.userDevice.id),e.xp6(6),e.Oqu(i.userDevice.deviceId),e.xp6(6),e.Oqu(e.xi3(26,7,i.userDevice.dateRegistration,"mediumDate")),e.xp6(7),e.Oqu(e.xi3(33,10,i.userDevice.lastUpdate,"mediumDate")),e.xp6(6),e.Oqu(null==i.userDevice.userAccount?null:i.userDevice.userAccount.id),e.xp6(2),e.Oqu(e.lcZ(41,13,"EDIT_BUTTON")),e.xp6(3),e.Oqu(e.lcZ(44,15,"DELETE_BUTTON")))},directives:[o.Gu,o.sr,o.Sm,o.oU,o.cs,o.wd,o.W2,o.q_,o.Ie,o.Q$,o.YG],pipes:[l.uU,m.X$],encapsulation:2}),s})(),U=(()=>{class s{constructor(t){this.service=t}resolve(t,i){const n=t.params.id?t.params.id:null;return n?this.service.find(n).pipe((0,_.h)(c=>c.ok),(0,D.U)(c=>c.body)):(0,y.of)(new Z)}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(f))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const w=[{path:"",component:q,data:{authorities:["ROLE_USER"]},canActivate:[u.Z]},{path:"new",component:T,resolve:{data:U},data:{authorities:["ROLE_USER"]},canActivate:[u.Z]},{path:":id/view",component:k,resolve:{data:U},data:{authorities:["ROLE_USER"]},canActivate:[u.Z]},{path:":id/edit",component:T,resolve:{data:U},data:{authorities:["ROLE_USER"]},canActivate:[u.Z]}];let E=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[o.Pc,p.u5,p.UX,l.ez,m.aw,v.Bz.forChild(w)]]}),s})()},9393:(A,h,a)=>{a.d(h,{b:()=>o});var m=a(520);const o=l=>{let v=new m.LE;return l&&(Object.keys(l).forEach(u=>{"sort"!==u&&(v=v.set(u,l[u]))}),l.sort&&l.sort.forEach(u=>{v=v.append("sort",u)})),v}}}]);