{"version":3,"file":"src_app_pages_entities_score-stat_score-stat_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAiD;AACU;AACC;AAEf;AACF;IAM9B,YAAY,SAAZ,YAAY;IAMvB,YACY,cAA6B,EAC7B,iBAAmC,EACnC,KAAsB;QAFtB,mBAAc,GAAd,cAAc,CAAe;QAC7B,sBAAiB,GAAjB,iBAAiB,CAAkB;QACnC,UAAK,GAAL,KAAK,CAAiB;QAR3B,oBAAe,GAAG,CAAC,CAAC;QAC1B,cAAS,GAAG,CAAC,CAAC;QAQX,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QAAC,IAAI,CAAC,SAAS,EAAE,CAAC;IAAC,CAAC;IAE3C,kBAAkB;QAChB,IAAI,CAAC,eAAe,EAAG,CAAC;IAC1B,CAAC;IAED,aAAa;QACX,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,KAAK,EAAC,EAAE;YAClC,IAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBAC3E,IAAI,CAAC,SAAS,EAAE,CAAC;aACjB;iBAAK,IAAG,IAAI,CAAC,SAAS,KAAK,CAAC,IAAI,IAAI,CAAC,OAAO,KAAK,CAAC,EAAC;gBACnD,IAAI,CAAC,SAAS,EAAE,CAAC;aACjB;iBAAK,IAAG,IAAI,CAAC,SAAS,KAAK,CAAC,IAAI,IAAI,CAAC,OAAO,KAAK,CAAC,EAAE;gBACpD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC;aACxC;iBAAK,IAAG,IAAI,CAAC,SAAS,KAAK,CAAC,IAAI,IAAI,CAAC,OAAO,KAAK,CAAC,EAAE;gBACpD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC;aACxC;QACJ,CAAC,CAAC,CAAC;QACH,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAErC,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,OAAO,GAAG,CAAC;IACf,CAAC;IAED,YAAY,CAAC,UAAkB,EAAE,MAAgB,EAAE,IAAc,EAAE,MAAiB;QAClF,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,UAAU,EAAE,CAAC;QACX,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI,EAAC,EAAE;YAC5B,IAAG,IAAI,CAAC,aAAa,KAAK,UAAU,EAAC;gBACnC,IAAG,IAAI,EAAC;oBACN,IAAI,CAAC,OAAO,EAAE,CAAC;oBACf,IAAI,CAAC,WAAW,EAAE,CAAC;iBACpB;gBACD,IAAG,MAAM,EAAC;oBACR,IAAI,CAAC,SAAS,EAAE,CAAC;oBACjB,IAAI,CAAC,WAAW,EAAE,CAAC;iBACpB;gBACD,IAAG,MAAM,EAAC;oBACR,IAAI,CAAC,WAAW,EAAE,CAAC;oBACnB,IAAI,CAAC,aAAa,EAAE,CAAC;iBACtB;gBACD,CAAC,EAAE,CAAC;aACL;QACH,CAAC,CAAC,CAAC;QACH,IAAG,CAAC,IAAI,CAAC,IAAI,MAAM,EAAC;YAClB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;gBACjB,aAAa,EAAE,UAAU;gBACzB,SAAS,EAAE,CAAC;gBACZ,OAAO,EAAE,CAAC;gBACV,WAAW,EAAE,CAAC;gBACd,aAAa,EAAE,CAAC;aACjB,CAAC,CAAC;SAEJ;aAAK,IAAG,CAAC,IAAI,CAAC,IAAI,IAAI,EAAC;YACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;gBACjB,aAAa,EAAE,UAAU;gBACzB,SAAS,EAAE,CAAC;gBACZ,OAAO,EAAE,CAAC;gBACV,WAAW,EAAE,CAAC;gBACd,aAAa,EAAE,CAAC;aACjB,CAAC,CAAC;SACJ;aAAK,IAAG,CAAC,IAAI,CAAC,IAAI,MAAM,EAAC;YACxB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;gBACjB,aAAa,EAAE,UAAU;gBACzB,SAAS,EAAE,CAAC;gBACZ,OAAO,EAAE,CAAC;gBACV,WAAW,EAAE,CAAC;gBACd,aAAa,EAAE,CAAC;aACjB,CAAC,CAAC;SACJ;QAED,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAEC,SAAS;QACP,2DAAW,CAAC;YACZ,GAAG,EAAG,OAAO;YACb,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC;SACrC,CAAC,CAAC;IACL,CAAC;IAEK,SAAS;;YACb,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,2DAAW,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC,CAAC;YACtD,IAAG,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,KAAK,KAAK,IAAI,EAAE;gBACjD,gBAAgB;gBACd,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,gBAAgB,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAC,CAAC,CAAC;gBACpG,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;aACzB;iBAAK;gBACJ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBAClC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;gBAEtC,IAAI,CAAC,SAAS,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;IAEC,WAAW;QACT,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC;QACpD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,EAAC,EAAE;YAC9B,IAAG,KAAK,CAAC,IAAI,IAAI,EAAE,EAAC;gBAClB,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC;aACjB;YACD,IAAG,KAAK,CAAC,IAAI,IAAI,EAAE,EAAC;gBAClB,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC;aACjB;YACD,IAAG,KAAK,CAAC,IAAI,IAAI,EAAE,EAAC;gBAClB,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC;aACjB;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACjD,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QAEnB,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;CAEF;;YAvIQ,kEAAa;YADb,iEAAgB;YADhB,2DAAe;;AAWX,YAAY;IAHxB,yDAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,YAAY,CA8HxB;AA9HwB;;;;;;;;;;;;;;;;;;;;ACXgB;AACc;AAEL;AAElD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,2DAAa;KACzB;CACF,CAAC;IAMW,0BAA0B,SAA1B,0BAA0B;CAAG;AAA7B,0BAA0B;IAJtC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,0BAA0B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBE;AACM;AACF;AAEA;AAE4B;AAEvB;IAWrC,mBAAmB,SAAnB,mBAAmB;CAAG;AAAtB,mBAAmB;IAT/B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,kFAA0B;SAC3B;QACD,YAAY,EAAE,CAAC,2DAAa,CAAC;KAC9B,CAAC;GACW,mBAAmB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;ACnB4B;AACX;AACkB;AAEjB;AACL;IAQhC,aAAa,SAAb,aAAa;IAIxB,YACc,YAA2B,EAC3B,KAAsB,EACtB,cAA6B;QAF7B,iBAAY,GAAZ,YAAY,CAAe;QAC3B,UAAK,GAAL,KAAK,CAAiB;QACtB,mBAAc,GAAd,cAAc,CAAe;QAL3C,UAAK,GAAG,CAAC,CAAE;QAMP,IAAI,CAAC,SAAS,GAAG,EAAE,CAAE;QAAC,IAAI,CAAC,QAAQ,GAAG,EAAE;IAAA,CAAC;IAE7C,QAAQ;QACN,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC;IACrD,CAAC;IAEI,SAAS;;YACV,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,2DAAW,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC,CAAC;YACtD,IAAG,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,KAAK,KAAK,IAAI,EAAE;gBACjD,gBAAgB;gBACd,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,wCAAwC,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAC,CAAC,CAAC;gBAC5H,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;aACzB;iBAAK;gBACJ,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACnC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,CAAC;aAChD;QACL,CAAC;KAAA;IAEI,KAAK;;YAER,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;YAChC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC;YAC1B,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;YACf,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,8CAA8C,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAC,CAAC,CAAC;YAClI,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QAExB,CAAC;KAAA;IACK,QAAQ;;YACZ,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;gBACpC,IAAG,MAAM,CAAC,SAAS,EAAC;oBAClB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,SAAS,GAAG,KAAK,CAAC;iBACxC;YACL,CAAC,CAAC,CAAC;YACH,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,qCAAqC,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAC,CAAC,CAAC;YACzH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAEK,OAAO;;YACX,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,0BAA0B,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAC,CAAC,CAAC;YAC9G,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAED,aAAa;QACX,OAAO,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa,EAAC,CAAC,KAAK,CAAC;IACxE,CAAC;CACF;;YAnEQ,yEAAY;YADZ,2DAAe;YADf,kEAAa;;AAaT,aAAa;IALzB,wDAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,uEAAqC;;KAEtC,CAAC;GACW,aAAa,CAwDzB;AAxDyB","sources":["./src/app/pages/entities/question-details/score.service.ts","./src/app/pages/entities/score-stat/score-stat-routing.module.ts","./src/app/pages/entities/score-stat/score-stat.module.ts","./src/app/pages/entities/score-stat/score-stat.page.ts"],"sourcesContent":["import { ToastController } from '@ionic/angular';\nimport { LocalSaveService } from './../local-save.service';\nimport { GlobalService } from './../question/globalService';\nimport { Score } from './Score.model';\nimport { Storage } from '@capacitor/storage';\nimport { Injectable } from '@angular/core';\nimport { Question } from '../question/question.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ScoreService {\n  public countQustnDonne = 0;\n   realScore = 0;\n   tabIndex: Score[];\n   questions: Question[];\n\n  constructor(\n      private gloabalService: GlobalService,\n      private localSaveQuestion: LocalSaveService,\n      private toast: ToastController\n  ) { this.tabIndex = []; this.loadScore(); }\n\n  countQuestionDonne(){\n    this.countQustnDonne ++;\n  }\n\n  generateScore(): number{\n    this.realScore = 0;\n      this.tabIndex.forEach((elmt, index)=>{\n         if(elmt.nbrTrouve > elmt.nbrRate && (elmt.nbrFoisJoue - elmt.nbrRate) >= 2 ){\n          this.realScore++;\n         }else if(elmt.nbrTrouve === 1 && elmt.nbrRate === 0){\n          this.realScore++;\n         }else if(elmt.nbrTrouve === 1 && elmt.nbrRate === 3 ){\n          this.realScore = this.realScore + (1/3);\n         }else if(elmt.nbrTrouve === 1 && elmt.nbrRate === 2 ){\n          this.realScore = this.realScore + (1/2);\n         }\n      });\n      let val = Math.round(this.realScore);\n\n      this.saveScore();\n      return val;\n  }\n\n  questionDone(indexQuizz: number, trouve?: boolean, rate?: boolean, ignore? : boolean){\n    let i = 0;\n    indexQuizz++;\n      this.tabIndex.forEach((elmt)=>{\n        if(elmt.indexQuestion === indexQuizz){\n          if(rate){\n            elmt.nbrRate++;\n            elmt.nbrFoisJoue++;\n          }\n          if(trouve){\n            elmt.nbrTrouve++;\n            elmt.nbrFoisJoue++;\n          }\n          if(ignore){\n            elmt.nbrFoisJoue++;\n            elmt.nbrFoisIgnore++;\n          }\n          i++;\n        }\n      });\n      if(i == 0 && trouve){\n        this.tabIndex.push({\n          indexQuestion: indexQuizz, \n          nbrTrouve: 1, \n          nbrRate: 0,\n          nbrFoisJoue: 1,\n          nbrFoisIgnore: 0\n        });\n\n      }else if(i == 0 && rate){\n        this.tabIndex.push({\n          indexQuestion: indexQuizz, \n          nbrTrouve: 0, \n          nbrRate: 1,\n          nbrFoisJoue: 1,\n          nbrFoisIgnore: 0\n        });\n      }else if(i == 0 && ignore){\n        this.tabIndex.push({\n          indexQuestion: indexQuizz, \n          nbrTrouve: 0, \n          nbrRate: 0,\n          nbrFoisJoue: 1,\n          nbrFoisIgnore: 1\n        });\n      }\n\n      this.saveScore();\n  }\n\n    saveScore(){\n      Storage.set({\n      key : 'Score',\n      value: JSON.stringify(this.tabIndex)\n    });\n  }\n\n  async loadScore(){\n    const { value } = await Storage.get({ key: 'Score' });\n    if(!value || value.length === 0 || value === '[]' ){\n      //no score save \n        const toast = await this.toast.create({message: 'Chargement...!', duration: 2000, position: 'top'});\n        await toast.present();\n    }else {\n      this.tabIndex = JSON.parse(value);\n      this.realScore = this.generateScore();\n\n      this.saveScore();\n    }\n}\n\n  renitialise(){\n    this.questions = this.gloabalService.globalQuestion;\n    this.questions.forEach((elemt)=>{\n      if(elemt.rep1 != ''){\n        elemt.rep1 = '';\n      }\n      if(elemt.rep2 != ''){\n        elemt.rep2 = '';\n      }\n      if(elemt.rep3 != ''){\n        elemt.rep3 = '';\n      }\n    });\n    this.localSaveQuestion.localSave(this.questions);\n    this.tabIndex.length = 0;\n    this.realScore = 0;\n\n    this.saveScore();\n  }\n  \n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ScoreStatPage } from './score-stat.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ScoreStatPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ScoreStatPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ScoreStatPageRoutingModule } from './score-stat-routing.module';\n\nimport { ScoreStatPage } from './score-stat.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ScoreStatPageRoutingModule\n  ],\n  declarations: [ScoreStatPage]\n})\nexport class ScoreStatPageModule {}\n","import { GlobalService } from './../question/globalService';\nimport { ToastController } from '@ionic/angular';\nimport { ScoreService } from './../question-details/score.service';\nimport { Score } from './../question-details/Score.model';\nimport { Component, OnInit } from '@angular/core';\nimport { Storage } from '@capacitor/storage';\n\n\n@Component({\n  selector: 'app-score-stat',\n  templateUrl: './score-stat.page.html',\n  styleUrls: ['./score-stat.page.scss'],\n})\nexport class ScoreStatPage implements OnInit {\n  scoreStat : Score[];\n  score = 0 ;\n  question: any[];\n  constructor(\n        private scoreService : ScoreService,\n        private toast: ToastController,\n        private listOfquestion: GlobalService\n  ) { this.scoreStat = [] ; this.question = []}\n\n  ngOnInit() {\n    this.loadScore();\n    console.log(this.scoreService.tabIndex);\n    this.question = this.listOfquestion.globalQuestion;\n  }\n\n async loadScore(){\n      const { value } = await Storage.get({ key: 'Score' });\n      if(!value || value.length === 0 || value === '[]' ){\n        //no score save \n          const toast = await this.toast.create({message: 'Veuillez Repondre à au moins 5 quizz !', duration: 2000, position: 'top'});\n          await toast.present();\n      }else {\n        this.scoreStat = JSON.parse(value);\n        this.score = this.scoreService.generateScore();\n      }\n  }\n\n async renit(){\n\n    this.scoreService.renitialise();\n    this.scoreStat.length = 0;\n    this.score = 0;\n    const toast = await this.toast.create({message: 'Score et statisque renitialise avec succes !', duration: 2000, position: 'top'});\n    await toast.present();\n\n  }\n  async renitFav(){\n    this.question.forEach((elemen, index) => {\n        if(elemen.favourite){\n          this.question[index].favourite = false; \n        }\n    });\n    const toast = await this.toast.create({message: 'Favorites renitialise avec succes !', duration: 2000, position: 'top'});\n    await toast.present();\n  }\n\n  async refresh(){\n    this.loadScore();\n    const toast = await this.toast.create({message: 'Actualiser avec succes !', duration: 2000, position: 'top'});\n    await toast.present();\n  }\n\n  getScoreColor(): string{\n    return this.score >= (this.scoreStat.length/2) ? 'greenyellow': 'red'; \n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}