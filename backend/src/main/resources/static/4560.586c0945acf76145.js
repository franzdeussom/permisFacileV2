"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4560],{7423:(M,b,n)=>{n.d(b,{Uw:()=>l,fo:()=>U});var a=n(5861);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var d=(()=>{return(o=d||(d={})).Unimplemented="UNIMPLEMENTED",o.Unavailable="UNAVAILABLE",d;var o})();class Z extends Error{constructor(i,s){super(i),this.message=i,this.code=s}}const L=o=>{var i,s,g,w,C;const W=o.CapacitorCustomPlatform||null,v=o.Capacitor||{},G=v.Plugins=v.Plugins||{},E=o.CapacitorPlatforms,F=(null===(i=null==E?void 0:E.currentPlatform)||void 0===i?void 0:i.getPlatform)||(()=>null!==W?W.name:(o=>{var i,s;return(null==o?void 0:o.androidBridge)?"android":(null===(s=null===(i=null==o?void 0:o.webkit)||void 0===i?void 0:i.messageHandlers)||void 0===s?void 0:s.bridge)?"ios":"web"})(o)),ee=(null===(s=null==E?void 0:E.currentPlatform)||void 0===s?void 0:s.isNativePlatform)||(()=>"web"!==F()),ie=(null===(g=null==E?void 0:E.currentPlatform)||void 0===g?void 0:g.isPluginAvailable)||(p=>{const h=N.get(p);return!(!(null==h?void 0:h.platforms.has(F()))&&!Y(p))}),Y=(null===(w=null==E?void 0:E.currentPlatform)||void 0===w?void 0:w.getPluginHeader)||(p=>{var h;return null===(h=v.PluginHeaders)||void 0===h?void 0:h.find($=>$.name===p)}),N=new Map,ae=(null===(C=null==E?void 0:E.currentPlatform)||void 0===C?void 0:C.registerPlugin)||((p,h={})=>{const $=N.get(p);if($)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),$.proxy;const B=F(),K=Y(p);let q;const le=function(){var P=(0,a.Z)(function*(){return!q&&B in h?q=q="function"==typeof h[B]?yield h[B]():h[B]:null!==W&&!q&&"web"in h&&(q=q="function"==typeof h.web?yield h.web():h.web),q});return function(){return P.apply(this,arguments)}}(),J=P=>{let T;const D=(...I)=>{const S=le().then(O=>{const R=((P,T)=>{var D,I;if(!K){if(P)return null===(I=P[T])||void 0===I?void 0:I.bind(P);throw new Z(`"${p}" plugin is not implemented on ${B}`,d.Unimplemented)}{const S=null==K?void 0:K.methods.find(O=>T===O.name);if(S)return"promise"===S.rtype?O=>v.nativePromise(p,T.toString(),O):(O,R)=>v.nativeCallback(p,T.toString(),O,R);if(P)return null===(D=P[T])||void 0===D?void 0:D.bind(P)}})(O,P);if(R){const k=R(...I);return T=null==k?void 0:k.remove,k}throw new Z(`"${p}.${P}()" is not implemented on ${B}`,d.Unimplemented)});return"addListener"===P&&(S.remove=(0,a.Z)(function*(){return T()})),S};return D.toString=()=>`${P.toString()}() { [capacitor code] }`,Object.defineProperty(D,"name",{value:P,writable:!1,configurable:!1}),D},j=J("addListener"),z=J("removeListener"),de=(P,T)=>{const D=j({eventName:P},T),I=function(){var O=(0,a.Z)(function*(){const R=yield D;z({eventName:P,callbackId:R},T)});return function(){return O.apply(this,arguments)}}(),S=new Promise(O=>D.then(()=>O({remove:I})));return S.remove=(0,a.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield I()}),S},H=new Proxy({},{get(P,T){switch(T){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return K?de:j;case"removeListener":return z;default:return J(T)}}});return G[p]=H,N.set(p,{name:p,proxy:H,platforms:new Set([...Object.keys(h),...K?[B]:[]])}),H});return v.convertFileSrc||(v.convertFileSrc=p=>p),v.getPlatform=F,v.handleError=p=>o.console.error(p),v.isNativePlatform=ee,v.isPluginAvailable=ie,v.pluginMethodNoop=(p,h,$)=>Promise.reject(`${$} does not have an implementation of "${h}".`),v.registerPlugin=ae,v.Exception=Z,v.DEBUG=!!v.DEBUG,v.isLoggingEnabled=!!v.isLoggingEnabled,v.platform=v.getPlatform(),v.isNative=v.isNativePlatform(),v},m=(o=>o.Capacitor=L(o))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),U=m.registerPlugin;class l{constructor(i){this.listeners={},this.windowListeners={},i&&(console.warn(`Capacitor WebPlugin "${i.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=i)}addListener(i,s){var g=this;this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(s);const C=this.windowListeners[i];C&&!C.registered&&this.addWindowListener(C);const W=function(){var G=(0,a.Z)(function*(){return g.removeListener(i,s)});return function(){return G.apply(this,arguments)}}(),v=Promise.resolve({remove:W});return Object.defineProperty(v,"remove",{value:(G=(0,a.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield W()}),function(){return G.apply(this,arguments)})}),v;var G}removeAllListeners(){var i=this;return(0,a.Z)(function*(){i.listeners={};for(const s in i.windowListeners)i.removeWindowListener(i.windowListeners[s]);i.windowListeners={}})()}notifyListeners(i,s){const g=this.listeners[i];g&&g.forEach(w=>w(s))}hasListeners(i){return!!this.listeners[i].length}registerWindowListener(i,s){this.windowListeners[s]={registered:!1,windowEventName:i,pluginEventName:s,handler:g=>{this.notifyListeners(s,g)}}}unimplemented(i="not implemented"){return new m.Exception(i,d.Unimplemented)}unavailable(i="not available"){return new m.Exception(i,d.Unavailable)}removeListener(i,s){var g=this;return(0,a.Z)(function*(){const w=g.listeners[i];if(!w)return;const C=w.indexOf(s);g.listeners[i].splice(C,1),g.listeners[i].length||g.removeWindowListener(g.windowListeners[i])})()}addWindowListener(i){window.addEventListener(i.windowEventName,i.handler),i.registered=!0}removeWindowListener(i){!i||(window.removeEventListener(i.windowEventName,i.handler),i.registered=!1)}}},5670:(M,b,n)=>{n.d(b,{Z:()=>_});const _=(0,n(7423).fo)("Network",{web:()=>n.e(4203).then(n.bind(n,4203)).then(f=>new f.NetworkWeb)})},6052:(M,b,n)=>{n.d(b,{K:()=>_});const _=(0,n(7423).fo)("Storage",{web:()=>n.e(8913).then(n.bind(n,8913)).then(f=>new f.StorageWeb)})},5546:(M,b,n)=>{n.d(b,{U:()=>_});var a=n(1269);let _=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},4560:(M,b,n)=>{n.d(b,{HN:()=>a.H,oO:()=>Z,aE:()=>_.a});var a=n(6629),_=n(4554),f=n(655),t=n(1269),u=n(8779),e=n(4030),c=n(9808),d=n(4135);let Z=(()=>{class L{constructor(m,U,y,x){this.navController=m,this.questionService=U,this.activatedRoute=y,this.alertController=x,this.question={}}ngOnInit(){this.activatedRoute.data.subscribe(m=>{this.question=m.data})}open(m){this.navController.navigateForward("/tabs/entities/question/"+m.id+"/edit")}deleteModal(m){return(0,f.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Confirm the deletion?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Delete",handler:()=>{this.questionService.delete(m.id).subscribe(()=>{this.navController.navigateForward("/tabs/entities/question")})}}]})).present()})}}return L.\u0275fac=function(m){return new(m||L)(t.Y36(u.SH),t.Y36(_.a),t.Y36(e.gz),t.Y36(u.Br))},L.\u0275cmp=t.Xpm({type:L,selectors:[["page-question-detail"]],decls:46,vars:17,consts:[["color","tertiary"],["slot","start"],[1,"ion-padding"],["position","fixed"],["item-content",""],["id","id-content"],["id","intitule-content"],["id","image-content"],["id","dateCreation-content"],["id","lastUpdate-content"],["expand","block","color","primary",3,"click"],["expand","block","color","danger",3,"click"]],template:function(m,U){1&m&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t._UZ(3,"ion-back-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Question"),t.qZA()()(),t.TgZ(6,"ion-content",2)(7,"ion-list")(8,"ion-item")(9,"ion-label",3),t._uU(10,"ID"),t.qZA(),t.TgZ(11,"div",4)(12,"span",5),t._uU(13),t.qZA()()(),t.TgZ(14,"ion-item")(15,"ion-label",3),t._uU(16,"Intitule"),t.qZA(),t.TgZ(17,"div",4)(18,"span",6),t._uU(19),t.qZA()()(),t.TgZ(20,"ion-item")(21,"ion-label",3),t._uU(22,"Image"),t.qZA(),t.TgZ(23,"div",4)(24,"span",7),t._uU(25),t.qZA()()(),t.TgZ(26,"ion-item")(27,"ion-label",3),t._uU(28,"Date Creation"),t.qZA(),t.TgZ(29,"div",4)(30,"span",8),t._uU(31),t.ALo(32,"date"),t.qZA()()(),t.TgZ(33,"ion-item")(34,"ion-label",3),t._uU(35,"Last Update"),t.qZA(),t.TgZ(36,"div",4)(37,"span",9),t._uU(38),t.ALo(39,"date"),t.qZA()()()(),t.TgZ(40,"ion-button",10),t.NdJ("click",function(){return U.open(U.question)}),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"ion-button",11),t.NdJ("click",function(){return U.deleteModal(U.question)}),t._uU(44),t.ALo(45,"translate"),t.qZA()()),2&m&&(t.xp6(13),t.Oqu(U.question.id),t.xp6(6),t.Oqu(U.question.intitule),t.xp6(6),t.Oqu(U.question.image),t.xp6(6),t.Oqu(t.xi3(32,7,U.question.dateCreation,"mediumDate")),t.xp6(7),t.Oqu(t.xi3(39,10,U.question.lastUpdate,"mediumDate")),t.xp6(3),t.Oqu(t.lcZ(42,13,"EDIT_BUTTON")),t.xp6(3),t.Oqu(t.lcZ(45,15,"DELETE_BUTTON")))},directives:[u.Gu,u.sr,u.Sm,u.oU,u.cs,u.wd,u.W2,u.q_,u.Ie,u.Q$,u.YG],pipes:[c.uU,d.X$],encapsulation:2}),L})();n(3087)},6629:(M,b,n)=>{n.d(b,{H:()=>a});class a{constructor(f,t,u,e,c,d,Z,A,L,Q){this.id=f,this.intitule=t,this.image=u,this.dateCreation=e,this.lastUpdate=c,this.favourite=d,this.rep1=Z,this.rep2=A,this.rep3=L,this.reponses=Q}}},4554:(M,b,n)=>{n.d(b,{a:()=>u});var a=n(5146),_=n(9393),f=n(1269),t=n(520);let u=(()=>{class e{constructor(d){this.http=d,this.resourceUrl=a.s.API_URL+"/questions"}create(d){return this.http.post(this.resourceUrl,d,{observe:"response"})}update(d){return this.http.put(`${this.resourceUrl}/${d.id}`,d,{observe:"response"})}find(d){return this.http.get(`${this.resourceUrl}/${d}`,{observe:"response"})}queryFromIndex(d,Z){const A=(0,_.b)(Z);return this.http.get(this.resourceUrl+"/from/"+d,{params:A,observe:"response"})}query(d){const Z=(0,_.b)(d);return this.http.get(this.resourceUrl,{params:Z,observe:"response"})}delete(d){return this.http.delete(`${this.resourceUrl}/${d}`,{observe:"response"})}}return e.\u0275fac=function(d){return new(d||e)(f.LFG(t.eN))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},3087:(M,b,n)=>{n.d(b,{D:()=>U});var a=n(655),_=n(2198),f=n(4850),t=n(5670),u=n(6052),e=n(1269),c=n(8779),d=n(4554),Z=n(5546),A=n(9808),L=n(4135);function Q(y,x){if(1&y){const l=e.EpF();e.TgZ(0,"ion-item-sliding",null,9)(2,"ion-item",7),e.NdJ("click",function(){const i=e.CHM(l).$implicit;return e.oxw().view(i)}),e.TgZ(3,"ion-label",10)(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA(),e.TgZ(10,"p"),e._uU(11),e.ALo(12,"date"),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.ALo(15,"date"),e.qZA()()(),e.TgZ(16,"ion-item-options",11)(17,"ion-item-option",12),e.NdJ("click",function(){const i=e.CHM(l).$implicit,s=e.MAs(1);return e.oxw().edit(s,i)}),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"ion-item-option",13),e.NdJ("click",function(){const i=e.CHM(l).$implicit;return e.oxw().delete(i)}),e._uU(21),e.ALo(22,"translate"),e.qZA()()()}if(2&y){const l=x.$implicit;e.xp6(5),e.Oqu(l.id),e.xp6(2),e.Oqu(l.intitule),e.xp6(2),e.Oqu(l.image),e.xp6(2),e.Oqu(e.xi3(12,7,l.dateCreation,"mediumDate")),e.xp6(3),e.Oqu(e.xi3(15,10,l.lastUpdate,"mediumDate")),e.xp6(4),e.hij(" ",e.lcZ(19,13,"EDIT_BUTTON")," "),e.xp6(3),e.hij(" ",e.lcZ(22,15,"DELETE_BUTTON")," ")}}function m(y,x){1&y&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2," No Questions found. "),e.qZA()())}let U=(()=>{class y{constructor(l,r,o,i,s){this.navController=l,this.questionService=r,this.toastCtrl=o,this.globalService=i,this.plt=s,this.questions=[]}ionViewWillEnter(){return(0,a.mG)(this,void 0,void 0,function*(){yield this.init()})}init(){return(0,a.mG)(this,void 0,void 0,function*(){const l=yield t.Z.getStatus();console.log("Network status:",l);const{value:r}=yield u.K.get({key:"questions"});l.connected||(r&&0!==r.length&&"[]"!==r?(this.questions=JSON.parse(r),this.globalService.globalQuestion=this.questions):yield(yield this.toastCtrl.create({message:"Besoin d internet pour le chargement!",duration:2e3,position:"middle"})).present()),l.connected&&(r&&0!==r.length&&"[]"!==r?(this.questions=JSON.parse(r),this.questionService.queryFromIndex(this.questions.length).pipe((0,_.h)(o=>o.ok),(0,f.U)(o=>o.body)).subscribe(o=>{this.questions.concat(o),this.globalService.globalQuestion=this.questions,u.K.set({key:"questions",value:JSON.stringify(this.questions)})})):this.questionService.query().pipe((0,_.h)(o=>o.ok),(0,f.U)(o=>o.body)).subscribe(o=>{this.questions=o,this.globalService.globalQuestion=this.questions,u.K.set({key:"questions",value:JSON.stringify(this.questions)})}))})}loadAll(l){return(0,a.mG)(this,void 0,void 0,function*(){this.questionService.query().pipe((0,_.h)(r=>r.ok),(0,f.U)(r=>r.body)).subscribe(r=>{this.questions=r,void 0!==l&&setTimeout(()=>{l.target.complete()},750)},r=>(0,a.mG)(this,void 0,void 0,function*(){console.error(r),yield(yield this.toastCtrl.create({message:"Failed to load data",duration:2e3,position:"middle"})).present()}))})}trackId(l,r){return r.id}new(){return(0,a.mG)(this,void 0,void 0,function*(){yield this.navController.navigateForward("/tabs/entities/question/new")})}edit(l,r){return(0,a.mG)(this,void 0,void 0,function*(){yield this.navController.navigateForward("/tabs/entities/question/"+r.id+"/edit"),yield l.close()})}delete(l){return(0,a.mG)(this,void 0,void 0,function*(){this.questionService.delete(l.id).subscribe(()=>(0,a.mG)(this,void 0,void 0,function*(){yield(yield this.toastCtrl.create({message:"Question deleted successfully.",duration:3e3,position:"middle"})).present(),yield this.loadAll()}),r=>console.error(r))})}view(l){return(0,a.mG)(this,void 0,void 0,function*(){yield this.navController.navigateForward("/tabs/entities/question/"+l.id+"/view")})}}return y.\u0275fac=function(l){return new(l||y)(e.Y36(c.SH),e.Y36(d.a),e.Y36(c.yF),e.Y36(Z.U),e.Y36(c.t4))},y.\u0275cmp=e.Xpm({type:y,selectors:[["page-question"]],decls:15,vars:4,consts:[["color","tertiary"],["slot","start"],[1,"ion-padding"],["slot","fixed",3,"disabled","ionRefresh"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],["slidingItem",""],["text-wrap",""],["side","end"],["color","primary",3,"click"],["color","danger",3,"click"]],template:function(l,r){1&l&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Questions"),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"ion-refresher",3),e.NdJ("ionRefresh",function(i){return r.loadAll(i)}),e._UZ(8,"ion-refresher-content"),e.qZA(),e.TgZ(9,"ion-list"),e.YNc(10,Q,23,17,"ion-item-sliding",4),e.qZA(),e.YNc(11,m,3,0,"ion-item",5),e.TgZ(12,"ion-fab",6)(13,"ion-fab-button",7),e.NdJ("click",function(){return r.new()}),e._UZ(14,"ion-icon",8),e.qZA()()()),2&l&&(e.xp6(7),e.Q6J("disabled",r.plt.is("desktop")),e.xp6(3),e.Q6J("ngForOf",r.questions)("ngForTrackBy",r.trackId),e.xp6(1),e.Q6J("ngIf",!(null!=r.questions&&r.questions.length)))},directives:[c.Gu,c.sr,c.Sm,c.oU,c.cs,c.wd,c.W2,c.nJ,c.Wo,c.q_,A.sg,c.td,c.Ie,c.Q$,c.IK,c.u8,A.O5,c.IJ,c.W4,c.gu],pipes:[A.uU,L.X$],encapsulation:2}),y})()},9393:(M,b,n)=>{n.d(b,{b:()=>_});var a=n(520);const _=f=>{let t=new a.LE;return f&&(Object.keys(f).forEach(u=>{"sort"!==u&&(t=t.set(u,f[u]))}),f.sort&&f.sort.forEach(u=>{t=t.append("sort",u)})),t}}}]);