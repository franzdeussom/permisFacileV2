"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4671],{4671:(G,_,l)=>{l.r(_),l.d(_,{ReponsePageModule:()=>E,ReponseResolve:()=>f});var m=l(4135),i=l(8779),d=l(9808),v=l(4030),h=l(1284),p=l(3075),q=l(1086),Z=l(2198),b=l(4850),c=l(655),e=l(1269),A=l(5146),y=l(9393),x=l(520);let g=(()=>{class n{constructor(t){this.http=t,this.resourceUrl=A.s.API_URL+"/reponses"}create(t){return this.http.post(this.resourceUrl,t,{observe:"response"})}update(t){return this.http.put(`${this.resourceUrl}/${t.id}`,t,{observe:"response"})}find(t){return this.http.get(`${this.resourceUrl}/${t}`,{observe:"response"})}query(t){const o=(0,y.b)(t);return this.http.get(this.resourceUrl,{params:o,observe:"response"})}delete(t){return this.http.delete(`${this.resourceUrl}/${t}`,{observe:"response"})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(x.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function S(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item-sliding",null,9)(2,"ion-item",7),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().view(a)}),e.TgZ(3,"ion-label",10)(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA(),e.TgZ(10,"p"),e._uU(11),e.qZA()()(),e.TgZ(12,"ion-item-options",11)(13,"ion-item-option",12),e.NdJ("click",function(){const a=e.CHM(t).$implicit,u=e.MAs(1);return e.oxw().edit(u,a)}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"ion-item-option",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().delete(a)}),e._uU(17),e.ALo(18,"translate"),e.qZA()()()}if(2&n){const t=s.$implicit;e.xp6(5),e.Oqu(t.id),e.xp6(2),e.Oqu(t.intitule),e.xp6(2),e.Oqu(t.reponseUnique),e.xp6(2),e.Oqu(t.bonneReponse),e.xp6(3),e.hij(" ",e.lcZ(15,6,"EDIT_BUTTON")," "),e.xp6(3),e.hij(" ",e.lcZ(18,8,"DELETE_BUTTON")," ")}}function C(n,s){1&n&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2," No Reponses found. "),e.qZA()())}let k=(()=>{class n{constructor(t,o,r,a){this.navController=t,this.reponseService=o,this.toastCtrl=r,this.plt=a,this.reponses=[]}ionViewWillEnter(){return(0,c.mG)(this,void 0,void 0,function*(){yield this.loadAll()})}loadAll(t){return(0,c.mG)(this,void 0,void 0,function*(){this.reponseService.query().pipe((0,Z.h)(o=>o.ok),(0,b.U)(o=>o.body)).subscribe(o=>{this.reponses=o,void 0!==t&&setTimeout(()=>{t.target.complete()},750)},o=>(0,c.mG)(this,void 0,void 0,function*(){console.error(o),yield(yield this.toastCtrl.create({message:"Failed to load data",duration:2e3,position:"middle"})).present()}))})}trackId(t,o){return o.id}new(){return(0,c.mG)(this,void 0,void 0,function*(){yield this.navController.navigateForward("/tabs/entities/reponse/new")})}edit(t,o){return(0,c.mG)(this,void 0,void 0,function*(){yield this.navController.navigateForward("/tabs/entities/reponse/"+o.id+"/edit"),yield t.close()})}delete(t){return(0,c.mG)(this,void 0,void 0,function*(){this.reponseService.delete(t.id).subscribe(()=>(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.toastCtrl.create({message:"Reponse deleted successfully.",duration:3e3,position:"middle"})).present(),yield this.loadAll()}),o=>console.error(o))})}view(t){return(0,c.mG)(this,void 0,void 0,function*(){yield this.navController.navigateForward("/tabs/entities/reponse/"+t.id+"/view")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.SH),e.Y36(g),e.Y36(i.yF),e.Y36(i.t4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["page-reponse"]],decls:15,vars:4,consts:[["color","tertiary"],["slot","start"],[1,"ion-padding"],["slot","fixed",3,"disabled","ionRefresh"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],["slidingItem",""],["text-wrap",""],["side","end"],["color","primary",3,"click"],["color","danger",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Reponses"),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"ion-refresher",3),e.NdJ("ionRefresh",function(a){return o.loadAll(a)}),e._UZ(8,"ion-refresher-content"),e.qZA(),e.TgZ(9,"ion-list"),e.YNc(10,S,19,10,"ion-item-sliding",4),e.qZA(),e.YNc(11,C,3,0,"ion-item",5),e.TgZ(12,"ion-fab",6)(13,"ion-fab-button",7),e.NdJ("click",function(){return o.new()}),e._UZ(14,"ion-icon",8),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("disabled",o.plt.is("desktop")),e.xp6(3),e.Q6J("ngForOf",o.reponses)("ngForTrackBy",o.trackId),e.xp6(1),e.Q6J("ngIf",!(null!=o.reponses&&o.reponses.length)))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,i.W2,i.nJ,i.Wo,i.q_,d.sg,i.td,i.Ie,i.Q$,i.IK,i.u8,d.O5,i.IJ,i.W4,i.gu],pipes:[m.X$],encapsulation:2}),n})();class R{constructor(s,t,o,r,a,u){this.id=s,this.intitule=t,this.reponseUnique=o,this.bonneReponse=r,this.isChecked=a,this.question=u,this.isChecked=!1,this.reponseUnique=!1,this.bonneReponse=!1}}var F=l(4560);function O(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DONE_BUTTON")))}function P(n,s){1&n&&e._UZ(0,"ion-icon",8)}function I(n,s){if(1&n&&(e.TgZ(0,"ion-select-option",15),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.id)}}function N(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"form",9),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().save()}),e.TgZ(1,"ion-list")(2,"ion-item")(3,"ion-label",10),e._uU(4,"Intitule"),e.qZA(),e._UZ(5,"ion-input",11),e.qZA(),e.TgZ(6,"ion-item")(7,"ion-label"),e._uU(8,"Reponse Unique"),e.qZA(),e._UZ(9,"ion-checkbox",12),e.qZA(),e.TgZ(10,"ion-item")(11,"ion-label"),e._uU(12,"Bonne Reponse"),e.qZA(),e._UZ(13,"ion-checkbox",13),e.qZA(),e.TgZ(14,"ion-item")(15,"ion-label"),e._uU(16,"Question"),e.qZA(),e.TgZ(17,"ion-select",14),e._UZ(18,"ion-select-option",15),e.YNc(19,I,2,2,"ion-select-option",16),e.qZA()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(17),e.Q6J("compareWith",t.compareQuestion),e.xp6(1),e.Q6J("value",null),e.xp6(1),e.Q6J("ngForOf",t.questions)("ngForTrackBy",t.trackQuestionById)}}let U=(()=>{class n{constructor(t,o,r,a,u,T,Q){this.activatedRoute=t,this.navController=o,this.formBuilder=r,this.platform=a,this.toastCtrl=u,this.questionService=T,this.reponseService=Q,this.isSaving=!1,this.isNew=!0,this.form=this.formBuilder.group({id:[null,[]],intitule:[null,[p.kI.required]],reponseUnique:["false",[p.kI.required]],bonneReponse:["false",[]],question:[null,[]]}),this.form.valueChanges.subscribe(B=>{this.isReadyToSave=this.form.valid})}ngOnInit(){this.questionService.query().subscribe(t=>{this.questions=t.body},t=>this.onError(t)),this.activatedRoute.data.subscribe(t=>{this.reponse=t.data,this.isNew=null==this.reponse.id,this.updateForm(this.reponse)})}updateForm(t){this.form.patchValue({id:t.id,intitule:t.intitule,reponseUnique:t.reponseUnique,bonneReponse:t.bonneReponse,question:t.question})}save(){this.isSaving=!0;const t=this.createFromForm();this.subscribeToSaveResponse(this.isNew?this.reponseService.create(t):this.reponseService.update(t))}subscribeToSaveResponse(t){t.subscribe(o=>this.onSaveSuccess(o),o=>this.onError(o.error))}onSaveSuccess(t){return(0,c.mG)(this,void 0,void 0,function*(){let o="updated";201===t.status&&(o="created"),this.isSaving=!1,yield(yield this.toastCtrl.create({message:`Reponse ${o} successfully.`,duration:2e3,position:"middle"})).present(),yield this.navController.navigateBack("/tabs/entities/reponse")})}previousState(){window.history.back()}onError(t){return(0,c.mG)(this,void 0,void 0,function*(){this.isSaving=!1,console.error(t),yield(yield this.toastCtrl.create({message:"Failed to load data",duration:2e3,position:"middle"})).present()})}createFromForm(){return Object.assign(Object.assign({},new R),{id:this.form.get(["id"]).value,intitule:this.form.get(["intitule"]).value,reponseUnique:this.form.get(["reponseUnique"]).value,bonneReponse:this.form.get(["bonneReponse"]).value,question:this.form.get(["question"]).value})}compareQuestion(t,o){return t&&t.id&&o&&o.id?t.id===o.id:t===o}trackQuestionById(t,o){return o.id}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.gz),e.Y36(i.SH),e.Y36(p.qu),e.Y36(i.t4),e.Y36(i.yF),e.Y36(F.aE),e.Y36(g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["page-reponse-update"]],decls:12,vars:4,consts:[["color","tertiary"],["slot","start"],["slot","end"],["color","primary",3,"disabled","click"],[4,"ngIf"],["name","checkmark",4,"ngIf"],[1,"ion-padding"],["name","form",3,"formGroup","ngSubmit",4,"ngIf"],["name","checkmark"],["name","form",3,"formGroup","ngSubmit"],["position","floating"],["type","text","name","intitule","formControlName","intitule"],["formControlName","reponseUnique"],["formControlName","bonneReponse"],["id","field_question","formControlName","question",3,"compareWith"],[3,"value"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Reponse"),e.qZA(),e.TgZ(6,"ion-buttons",2)(7,"ion-button",3),e.NdJ("click",function(){return o.save()}),e.YNc(8,O,3,3,"span",4),e.YNc(9,P,1,0,"ion-icon",5),e.qZA()()()(),e.TgZ(10,"ion-content",6),e.YNc(11,N,20,5,"form",7),e.qZA()),2&t&&(e.xp6(7),e.Q6J("disabled",!o.isReadyToSave),e.xp6(1),e.Q6J("ngIf",o.platform.is("ios")),e.xp6(1),e.Q6J("ngIf",!o.platform.is("ios")),e.xp6(2),e.Q6J("ngIf",o.form))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,i.YG,d.O5,i.gu,i.W2,p._Y,p.JL,p.sg,i.q_,i.Ie,i.Q$,i.pK,i.j9,p.JJ,p.u,i.nz,i.w,i.t9,i.QI,i.n0,d.sg],pipes:[m.X$],encapsulation:2}),n})();function J(n,s){if(1&n&&(e.TgZ(0,"div",3)(1,"a"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(null==t.reponse.question?null:t.reponse.question.id)}}let Y=(()=>{class n{constructor(t,o,r,a){this.navController=t,this.reponseService=o,this.activatedRoute=r,this.alertController=a,this.reponse={}}ngOnInit(){this.activatedRoute.data.subscribe(t=>{this.reponse=t.data})}open(t){this.navController.navigateForward("/tabs/entities/reponse/"+t.id+"/edit")}deleteModal(t){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Confirm the deletion?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Delete",handler:()=>{this.reponseService.delete(t.id).subscribe(()=>{this.navController.navigateForward("/tabs/entities/reponse")})}}]})).present()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.SH),e.Y36(g),e.Y36(v.gz),e.Y36(i.Br))},n.\u0275cmp=e.Xpm({type:n,selectors:[["page-reponse-detail"]],decls:42,vars:11,consts:[["slot","start"],[1,"ion-padding"],["position","fixed"],["item-content",""],["id","id-content"],["id","intitule-content"],["id","reponseUnique-content"],["id","bonneReponse-content"],["item-content","",4,"ngIf"],["expand","block","color","primary",3,"click"],["expand","block","color","danger",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Reponse"),e.qZA()()(),e.TgZ(6,"ion-content",1)(7,"ion-list")(8,"ion-item")(9,"ion-label",2),e._uU(10,"ID"),e.qZA(),e.TgZ(11,"div",3)(12,"span",4),e._uU(13),e.qZA()()(),e.TgZ(14,"ion-item")(15,"ion-label",2),e._uU(16,"Intitule"),e.qZA(),e.TgZ(17,"div",3)(18,"span",5),e._uU(19),e.qZA()()(),e.TgZ(20,"ion-item")(21,"ion-label",2),e._uU(22,"Reponse Unique"),e.qZA(),e.TgZ(23,"div",3)(24,"span",6),e._uU(25),e.qZA()()(),e.TgZ(26,"ion-item")(27,"ion-label",2),e._uU(28,"Bonne Reponse"),e.qZA(),e.TgZ(29,"div",3)(30,"span",7),e._uU(31),e.qZA()()(),e.TgZ(32,"ion-item")(33,"ion-label"),e._uU(34,"Question"),e.qZA(),e.YNc(35,J,3,1,"div",8),e.qZA()(),e.TgZ(36,"ion-button",9),e.NdJ("click",function(){return o.open(o.reponse)}),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"ion-button",10),e.NdJ("click",function(){return o.deleteModal(o.reponse)}),e._uU(40),e.ALo(41,"translate"),e.qZA()()),2&t&&(e.xp6(13),e.Oqu(o.reponse.id),e.xp6(6),e.Oqu(o.reponse.intitule),e.xp6(6),e.Oqu(o.reponse.reponseUnique),e.xp6(6),e.Oqu(o.reponse.bonneReponse),e.xp6(4),e.Q6J("ngIf",o.reponse.question),e.xp6(2),e.Oqu(e.lcZ(38,7,"EDIT_BUTTON")),e.xp6(3),e.Oqu(e.lcZ(41,9,"DELETE_BUTTON")))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,i.W2,i.q_,i.Ie,i.Q$,d.O5,i.YG],pipes:[m.X$],encapsulation:2}),n})(),f=(()=>{class n{constructor(t){this.service=t}resolve(t,o){const r=t.params.id?t.params.id:null;return r?this.service.find(r).pipe((0,Z.h)(a=>a.ok),(0,b.U)(a=>a.body)):(0,q.of)(new R)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(g))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const w=[{path:"",component:k,data:{authorities:["ROLE_USER"]},canActivate:[h.Z]},{path:"new",component:U,resolve:{data:f},data:{authorities:["ROLE_USER"]},canActivate:[h.Z]},{path:":id/view",component:Y,resolve:{data:f},data:{authorities:["ROLE_USER"]},canActivate:[h.Z]},{path:":id/edit",component:U,resolve:{data:f},data:{authorities:["ROLE_USER"]},canActivate:[h.Z]}];let E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[i.Pc,p.u5,p.UX,d.ez,m.aw,v.Bz.forChild(w)]]}),n})()}}]);