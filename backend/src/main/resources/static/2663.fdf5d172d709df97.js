"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2663],{373:(S,v,i)=>{i.d(v,{R:()=>d});var p=i(1269);let d=(()=>{class g{constructor(){this.isFavouriteTab=!1}setIdQuestion(s,r,h){this.id=s,this.quizz=r,this.isFavouriteTab=h,this.isFavouriteTab?this.favQuizz=r:this.quizz=r}getIdQuestion(){return this.id}getQuizzQuestion(){return this.quizz}getFavQuizz(){return this.favQuizz}}return g.\u0275fac=function(s){return new(s||g)},g.\u0275prov=p.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},6244:(S,v,i)=>{i.d(v,{Q:()=>s});var p=i(655),d=i(6052),g=i(1269),f=i(5546);let s=(()=>{class r{constructor(c){this.globalService=c,this.defaultQuestionTab=this.globalService.globalQuestion}localSave(c,m){return(0,p.mG)(this,void 0,void 0,function*(){if(m){for(var A=[],P=0,u=0;u<c.length;u++)c[u].favourite&&(A[P]=u,P++);for(u=0;u<c.length;u++)u==A[u]&&(this.defaultQuestionTab[u]=c[u]);this.save(this.defaultQuestionTab)}else this.save(c)})}save(c){this.globalService.globalQuestion=c,d.K.set({key:"questions",value:JSON.stringify(c)})}}return r.\u0275fac=function(c){return new(c||r)(g.LFG(f.U))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},2663:(S,v,i)=>{i.r(v),i.d(v,{HomePageModule:()=>D});var p=i(3058),d=i(9808),g=i(3075),f=i(4030),s=i(8779),r=i(4135),h=i(1284),c=i(655),m=i(6052),A=i(2198),P=i(4850),u=i(5670),t=i(1269),Z=i(150),_=i(1133),E=i(373),y=i(5546),C=i(6244),O=i(4560),M=i(3016);function N(e,l){1&e&&(t.TgZ(0,"div"),t._uU(1," Chargement... "),t.qZA())}function U(e,l){1&e&&(t.TgZ(0,"span",15),t._UZ(1,"ion-icon",16),t.qZA())}function Q(e,l){1&e&&(t.TgZ(0,"span",17),t._UZ(1,"ion-icon",18),t.qZA())}function H(e,l){1&e&&(t.TgZ(0,"span",19),t._UZ(1,"ion-icon",20),t.qZA())}function I(e,l){1&e&&(t.TgZ(0,"span",15),t._UZ(1,"ion-icon",16),t.qZA())}function R(e,l){1&e&&(t.TgZ(0,"span",17),t._UZ(1,"ion-icon",18),t.qZA())}function q(e,l){1&e&&(t.TgZ(0,"span",19),t._UZ(1,"ion-icon",20),t.qZA())}function Y(e,l){1&e&&(t.TgZ(0,"span",15),t._UZ(1,"ion-icon",16),t.qZA())}function b(e,l){1&e&&(t.TgZ(0,"span",17),t._UZ(1,"ion-icon",18),t.qZA())}function z(e,l){1&e&&(t.TgZ(0,"span",19),t._UZ(1,"ion-icon",20),t.qZA())}const J=function(e){return{favourite:e}};function F(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"div")(1,"ion-item",7)(2,"ion-label",8),t.NdJ("click",function(){const T=t.CHM(n).index,x=t.oxw();return x.goDetail(T,x.questions)}),t.TgZ(3,"sup"),t._uU(4),t.qZA(),t._UZ(5,"br"),t._uU(6),t.qZA(),t.TgZ(7,"span",9),t.NdJ("click",function(){const T=t.CHM(n).index;return t.oxw().favourite(T)}),t.TgZ(8,"div",10),t.YNc(9,U,2,0,"span",11),t.YNc(10,Q,2,0,"span",12),t.YNc(11,H,2,0,"span",13),t.YNc(12,I,2,0,"span",11),t.YNc(13,R,2,0,"span",12),t.YNc(14,q,2,0,"span",13),t.YNc(15,Y,2,0,"span",11),t.YNc(16,b,2,0,"span",12),t.YNc(17,z,2,0,"span",13),t.qZA(),t._UZ(18,"ion-icon",14),t.qZA()()()}if(2&e){const n=l.$implicit,o=l.index,a=t.oxw();t.xp6(4),t.hij("",o+1," "),t.xp6(2),t.hij(" \xa0 \xa0 ",n.intitule," "),t.xp6(1),t.Q6J("ngClass",t.VKq(12,J,a.questions[o].favourite)),t.xp6(2),t.Q6J("ngIf","TRUEANSWER"==n.rep1),t.xp6(1),t.Q6J("ngIf","FALSEANSWER"==n.rep1),t.xp6(1),t.Q6J("ngIf","NEUTRALANSWER"==n.rep1),t.xp6(1),t.Q6J("ngIf","TRUEANSWER"==n.rep2),t.xp6(1),t.Q6J("ngIf","FALSEANSWER"==n.rep2),t.xp6(1),t.Q6J("ngIf","NEUTRALANSWER"==n.rep2),t.xp6(1),t.Q6J("ngIf","TRUEANSWER"==n.rep3),t.xp6(1),t.Q6J("ngIf","FALSEANSWER"==n.rep3),t.xp6(1),t.Q6J("ngIf","NEUTRALANSWER"==n.rep3)}}const L=[{path:"",component:(()=>{class e{constructor(n,o,a,T,x,W,B,K,j){this.navController=n,this.accountService=o,this.loginService=a,this.param=T,this.globalService=x,this.localSave=W,this.questionService=B,this.toastCtrl=K,this.typeAccount=j,this.questions=[]}ngOnInit(){this.accountService.identity().then(n=>{null===n?this.goBackToHomePage():this.account=n}),this.init(),this.typeAccount.isAdmin()}isAuthenticated(){return this.accountService.isAuthenticated()}init(){return(0,c.mG)(this,void 0,void 0,function*(){const n=yield u.Z.getStatus();console.log("Network status:",n);const{value:o}=yield m.K.get({key:"questions"});n.connected||(o&&0!==o.length&&"[]"!==o?(this.questions=JSON.parse(o),this.globalService.globalQuestion=this.questions):yield(yield this.toastCtrl.create({message:"Besoin d internet pour le chargement!",duration:2e3,position:"middle"})).present()),n.connected&&(o&&0!==o.length&&"[]"!==o?(this.questions=JSON.parse(o),this.questionService.queryFromIndex(this.questions.length).pipe((0,A.h)(a=>a.ok),(0,P.U)(a=>a.body)).subscribe(a=>{this.questions.concat(a),this.globalService.globalQuestion=this.questions,m.K.set({key:"questions",value:JSON.stringify(this.questions)})})):this.questionService.query().pipe((0,A.h)(a=>a.ok),(0,P.U)(a=>a.body)).subscribe(a=>{this.questions=a,this.globalService.globalQuestion=this.questions,m.K.set({key:"questions",value:JSON.stringify(this.questions)})}))})}logout(){this.loginService.logout(),this.typeAccount.isAdministrator=!1,this.goBackToHomePage()}favourite(n){return(0,c.mG)(this,void 0,void 0,function*(){this.questions[n].favourite=!this.questions[n].favourite,yield this.localSave.localSave(this.questions)})}goDetail(n,o){this.param.setIdQuestion(n,o,!1),this.navController.navigateForward("/question-details")}goBackToHomePage(){this.navController.navigateRoot("login")}countNbrPlay(){console.log("nbr of questions done :",0),alert(0)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.SH),t.Y36(Z.B),t.Y36(_.r),t.Y36(E.R),t.Y36(y.U),t.Y36(C.Q),t.Y36(O.aE),t.Y36(s.yF),t.Y36(M.r))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-home"]],decls:15,vars:7,consts:[["color","tertiary"],["slot","end"],[1,"ion-padding"],[1,"ion-margin"],[1,"card"],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","label",1,"ion-margin"],["text-wrap","",3,"click"],["id","favv",3,"ngClass","click"],[1,"lastAnswer"],["slot","end","class","valid",4,"ngIf"],["slot","end","class","failed",4,"ngIf"],["slot","end","class","neutral",4,"ngIf"],["name","star","slot","end"],["slot","end",1,"valid"],["name","checkmark-circle-outline"],["slot","end",1,"failed"],["name","close-circle-outline"],["slot","end",1,"neutral"],["name","remove-circle-outline"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"ion-buttons",1),t.qZA()(),t.TgZ(6,"ion-content",2)(7,"div",3)(8,"h3")(9,"span"),t._uU(10),t.qZA()()(),t.TgZ(11,"div",4),t.YNc(12,N,2,0,"div",5),t.TgZ(13,"ion-list"),t.YNc(14,F,19,14,"div",6),t.qZA()()()),2&n&&(t.xp6(3),t.AsE(" ",t.lcZ(4,5,"WELCOME_TITLE"),", ",null==o.account?null:o.account.firstName," "),t.xp6(7),t.hij("",o.questions.length," Questions "),t.xp6(2),t.Q6J("ngIf",0===o.questions.length),t.xp6(2),t.Q6J("ngForOf",o.questions))},directives:[s.Gu,s.sr,s.wd,s.Sm,s.W2,d.O5,s.q_,d.sg,s.Ie,s.Q$,d.mk,s.gu],pipes:[r.X$],styles:[".hipster[_ngcontent-%COMP%]{display:inline-block;width:347px;height:497px;background:url(jhipster_family_member_0.7318c1006d926ede.svg) no-repeat center top;background-size:contain}.lastAnswer[_ngcontent-%COMP%]{position:absolute;right:0;top:0;margin-right:5%;margin-top:7px;margin-bottom:7px}.lastAnswer[_ngcontent-%COMP%]   .valid[_ngcontent-%COMP%]{color:#45c445;font-size:20px}.lastAnswer[_ngcontent-%COMP%]   .failed[_ngcontent-%COMP%]{color:red;font-size:20px}.lastAnswer[_ngcontent-%COMP%]   .neutral[_ngcontent-%COMP%]{color:gray;font-size:20px}#favv[_ngcontent-%COMP%]{font-size:25px;padding-left:10px}.favourite[_ngcontent-%COMP%]{color:#ff0}img[_ngcontent-%COMP%]{width:100%}.BtnEnd[_ngcontent-%COMP%]{margin-right:15%}.red[_ngcontent-%COMP%]{color:red}.green[_ngcontent-%COMP%]{color:#adff2f}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx){.hipster[_ngcontent-%COMP%]{background:url(jhipster_family_member_0.7318c1006d926ede.svg) no-repeat center top;background-size:contain}}"]}),e})(),data:{authorities:["ROLE_USER"]},canActivate:[h.Z]},{path:"login",component:p.X},{path:"question-details",loadChildren:()=>i.e(6163).then(i.bind(i,6163)).then(e=>e.QuestionDetailsPageModule)}];let D=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.Pc,d.ez,g.u5,r.aw,f.Bz.forChild(L)]]}),e})()}}]);