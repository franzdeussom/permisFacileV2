"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6163],{6163:(Z,q,u)=>{u.r(q),u.d(q,{QuestionDetailsPageModule:()=>K});var Q=u(9808),h=u(3075),r=u(8779),A=u(4030),b=u(655),d=(()=>{return(i=d||(d={})).TRUEANSWER="TRUEANSWER",i.NEUTRALANSWER="NEUTRALANSWER",i.FALSEANSWER="FALSEANSWER",d;var i})(),e=u(1269),f=u(373),T=u(5546);let a=(()=>{class i{constructor(){this.idReponse=[]}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var l=u(6244),g=u(6386);function x(i,o){1&i&&(e.TgZ(0,"span",18),e._UZ(1,"ion-icon",19),e.qZA())}function v(i,o){1&i&&(e.TgZ(0,"span",20),e._UZ(1,"ion-icon",21),e.qZA())}function p(i,o){1&i&&(e.TgZ(0,"span",22),e._UZ(1,"ion-icon",23),e.qZA())}function S(i,o){1&i&&(e.TgZ(0,"span",18),e._UZ(1,"ion-icon",19),e.qZA())}function U(i,o){1&i&&(e.TgZ(0,"span",20),e._UZ(1,"ion-icon",21),e.qZA())}function E(i,o){1&i&&(e.TgZ(0,"span",22),e._UZ(1,"ion-icon",23),e.qZA())}function P(i,o){1&i&&(e.TgZ(0,"span",18),e._UZ(1,"ion-icon",19),e.qZA())}function I(i,o){1&i&&(e.TgZ(0,"span",20),e._UZ(1,"ion-icon",21),e.qZA())}function k(i,o){1&i&&(e.TgZ(0,"span",22),e._UZ(1,"ion-icon",23),e.qZA())}function m(i,o){if(1&i&&(e.TgZ(0,"span"),e._UZ(1,"ion-img",24),e.qZA()),2&i){const n=e.oxw();e.xp6(1),e.cQ8("src","",n.urlImg,"",n.question[n.idQuestion-1].image,"",n.ext,"")}}function D(i,o){if(1&i&&(e.TgZ(0,"span",26),e._uU(1),e.qZA()),2&i){const n=e.oxw(2);e.xp6(1),e.hij(" ",n.question[n.idQuestion-1].reponses[0].intitule," ")}}function R(i,o){if(1&i&&(e.TgZ(0,"span")(1,"strong")(2,"em"),e._uU(3,"Reponse: "),e.YNc(4,D,2,1,"span",25),e.qZA()()()),2&i){const n=e.oxw();e.xp6(4),e.Q6J("ngIf",n.question[n.idQuestion-1].reponses[0].reponseUnique&&n.reponseUnique.disableField)}}function N(i,o){1&i&&(e.TgZ(0,"span",31),e._UZ(1,"ion-icon",32),e.qZA())}function C(i,o){1&i&&(e.TgZ(0,"span",33),e._UZ(1,"ion-icon",34),e.qZA())}function F(i,o){if(1&i){const n=e.EpF();e.TgZ(0,"div")(1,"ion-item")(2,"ion-label",27)(3,"h4")(4,"em"),e._uU(5,"Votre Reponse ici..."),e.qZA()()(),e.TgZ(6,"ion-input",28),e.NdJ("ngModelChange",function(t){return e.CHM(n),e.oxw().reponseUnique.reponse=t}),e.qZA(),e.YNc(7,N,2,0,"span",29),e.YNc(8,C,2,0,"span",30),e.qZA()()}if(2&i){const n=e.oxw();e.xp6(6),e.Q6J("disabled",n.reponseUnique.disableField)("ngModel",n.reponseUnique.reponse),e.xp6(1),e.Q6J("ngIf",n.question[n.idQuestion-1].reponses[0].intitule==n.reponseUnique.reponse&&n.reponseUnique.disableField),e.xp6(1),e.Q6J("ngIf",n.question[n.idQuestion-1].reponses[0].intitule!=n.reponseUnique.reponse&&n.reponseUnique.disableField)}}function J(i,o){if(1&i&&e._UZ(0,"ion-checkbox",41),2&i){const n=e.oxw().index,s=e.oxw(2);e.Q6J("checked",s.question[s.idQuestion-1].reponses[n].bonneReponse)}}function M(i,o){1&i&&(e.TgZ(0,"span",42),e._UZ(1,"ion-icon",32),e.qZA())}function w(i,o){1&i&&(e.TgZ(0,"span",43),e._UZ(1,"ion-icon",34),e.qZA())}function O(i,o){if(1&i){const n=e.EpF();e.TgZ(0,"ion-list")(1,"ion-item"),e.YNc(2,J,1,1,"ion-checkbox",36),e.TgZ(3,"ion-checkbox",37),e.NdJ("click",function(){const c=e.CHM(n).index,_=e.oxw(2);return _.onCheck(_.idQuestion-1,c)}),e.qZA(),e.TgZ(4,"ion-label",38),e._uU(5),e.qZA(),e.YNc(6,M,2,0,"span",39),e.YNc(7,w,2,0,"span",40),e.qZA()()}if(2&i){const n=o.$implicit,s=o.index,t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.checkAns),e.xp6(1),e.Q6J("disabled",t.checkAns),e.xp6(2),e.hij(" ",n.intitule," "),e.xp6(1),e.Q6J("ngIf",t.question[t.idQuestion-1].reponses[s].bonneReponse&&t.checkAns&&t.trouve&&t.checked),e.xp6(1),e.Q6J("ngIf",!t.question[t.idQuestion-1].reponses[s].bonneReponse&&t.checkAns&&t.indexCheckbox==s)}}function Y(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,O,8,5,"ion-list",35),e.qZA()),2&i){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.question[n.idQuestion-1].reponses)}}function y(i,o){if(1&i){const n=e.EpF();e.TgZ(0,"ion-button",44),e.NdJ("click",function(){return e.CHM(n),e.oxw().prev()}),e._UZ(1,"ion-icon",45),e._uU(2," precedent "),e.qZA()}}function W(i,o){if(1&i){const n=e.EpF();e.TgZ(0,"span")(1,"ion-button",46),e.NdJ("click",function(){return e.CHM(n),e.oxw().checkAnswer()}),e._uU(2," Valider "),e.qZA()()}}function L(i,o){if(1&i){const n=e.EpF();e.TgZ(0,"ion-button",47),e.NdJ("click",function(){return e.CHM(n),e.oxw().next()}),e._uU(1," suivant "),e._UZ(2,"ion-icon",48),e.qZA()}}const B=function(i){return{favourite:i}},z=[{path:"",component:(()=>{class i{constructor(n,s,t,c,_){this.param=n,this.gloablService=s,this.Answer=t,this.localSave=c,this.score=_,this.indexCheckbox=0,this.urlImg="./../../assets/img/questionsimages/",this.ext=".JPG",this.reponseUnique={reponse:"",disableField:!1},this.question=[],this.tab=[]}ngOnInit(){this.favTabOrAllQuestion(),this.renit(),this.showBtnVld=!0,this.checked=!1,this.trouve=!1,this.countChecking=0}favourite(n){return(0,b.mG)(this,void 0,void 0,function*(){this.question[n].favourite=!this.question[n].favourite,yield this.localSave.localSave(this.question,!1)})}onCheck(n,s){if(this.checkIfShowOrHideWrongIcon(s),this.question[n].reponses[s].isChecked){this.question[n].reponses[s].isChecked=!1,this.countChecking--;let t=0;this.question[n].reponses.forEach((c,_)=>{c.isChecked&&t++}),this.checked=t>0,this.Answer.idQuestion=n,this.Answer.idReponse.splice(this.Answer.idReponse.indexOf(s),1)}else this.question[n].reponses[s].isChecked||(this.question[n].reponses[s].isChecked=!0,this.indexCheckbox=s,this.countChecking++,this.checked=!0,this.Answer.idQuestion=n,this.Answer.idReponse.push(s))}isUniqueAnswer(n){return!!this.question[n-1].reponses[0].reponseUnique&&(Number.parseInt(this.question[n-1].reponses[0].intitule)==Number.parseInt(this.reponseUnique.reponse)?(this.trouve=!0,this.checked=!0,this.lastResults(1),this.score.questionDone(n-1,!0,!1)):this.isEmpty()?(this.lastResults(2),this.score.questionDone(n-1,!1,!1,!0)):(this.lastResults(0),this.score.questionDone(n-1,!1,!0)),!0)}checkAnswer(){return(0,b.mG)(this,void 0,void 0,function*(){this.reponseUnique.disableField=!0,this.checkAns=!0,this.showBtnVld=!1;const n=this.Answer.idQuestion,s=this.Answer.idReponse.length;var t,c=0;if(!this.isUniqueAnswer(this.idQuestion)){for(t=0;t<s;t++)this.question[n].reponses[this.Answer.idReponse[t]].bonneReponse&&c++;c==s&&this.checked?(this.trouve=!0,this.lastResults(1),this.score.questionDone(n,!0,!1)):this.checked&&c!=s?(this.lastResults(0),this.score.questionDone(n,!1,!0)):(this.lastResults(2),this.score.questionDone(n,!1,!1,!0))}this.question.length==this.gloablService.globalQuestion.length?yield this.localSave.localSave(this.question):this.question.length<this.gloablService.globalQuestion.length&&(yield this.localSave.localSave(this.question,!0))})}lastResults(n){1==n?(this.question[this.idQuestion-1].rep3=this.question[this.idQuestion-1].rep2,this.question[this.idQuestion-1].rep2=this.question[this.idQuestion-1].rep1,this.question[this.idQuestion-1].rep1=d.TRUEANSWER):0==n?(this.question[this.idQuestion-1].rep3=this.question[this.idQuestion-1].rep2,this.question[this.idQuestion-1].rep2=this.question[this.idQuestion-1].rep1,this.question[this.idQuestion-1].rep1=d.FALSEANSWER):2==n&&(this.question[this.idQuestion-1].rep3=this.question[this.idQuestion-1].rep2,this.question[this.idQuestion-1].rep2=this.question[this.idQuestion-1].rep1,this.question[this.idQuestion-1].rep1=d.NEUTRALANSWER)}isEmpty(){return""===this.reponseUnique.reponse}renit(){this.checked=!1,this.showBtnVld=!0,this.checkAns=!1,this.trouve=!1,this.reponseUnique.reponse="",this.reponseUnique.disableField=!1,this.countChecking=0,this.indexCheckbox=0,this.tab.length=0,this.Answer.idReponse.length=0,this.question.forEach((n,s)=>{n.reponses.forEach((t,c)=>{t.isChecked&&(this.question[s].reponses[c].isChecked=!1)})})}prev(){this.renit(),this.idQuestion>1&&this.idQuestion<=this.question.length?this.idQuestion--:1==this.idQuestion&&(this.idQuestion=this.question.length)}next(){this.renit(),this.idQuestion>=1&&this.idQuestion<this.question.length?this.idQuestion++:this.idQuestion==this.question.length&&(this.idQuestion=1)}getIndexFav(){for(var n=[],s=0,t=0;t<this.question.length;t++)this.question[t].favourite&&(n[s]=t,s++);console.log(n)}favTabOrAllQuestion(){this.param.isFavouriteTab?(this.question=this.param.getFavQuizz(),this.idQuestion=this.param.getIdQuestion()+1):(this.question=this.param.getQuizzQuestion(),this.idQuestion=this.param.getIdQuestion()+1)}checkIfShowOrHideWrongIcon(n){let s=0;this.tab.length>0?(this.tab.forEach((t,c)=>{t==n&&(s++,this.tab.splice(c,1),this.indexCheckbox=0==c?this.tab[c]:this.tab[c-1])}),0==s&&(this.tab.push(n),this.indexCheckbox=n)):(this.indexCheckbox=n,this.tab.push(n))}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(f.R),e.Y36(T.U),e.Y36(a),e.Y36(l.Q),e.Y36(g.Y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-question-details"]],decls:38,vars:23,consts:[["color","tertiary"],["slot","start"],[1,"ion-padding"],[1,"center"],["id","favv","text-center","",3,"ngClass","click"],["name","star","slot","end"],[1,"lastAnswer"],["slot","end","class","valid",4,"ngIf"],["slot","end","class","failed",4,"ngIf"],["slot","end","class","neutral",4,"ngIf"],[1,"ion-margin"],[1,"card"],[4,"ngIf"],[1,"ion-padding",2,"text-align","center"],[2,"float","left"],[3,"click",4,"ngIf"],[2,"float","right"],["class","BtnEnd",3,"click",4,"ngIf"],["slot","end",1,"valid"],["name","checkmark-circle-outline"],["slot","end",1,"failed"],["name","close-circle-outline"],["slot","end",1,"neutral"],["name","remove-circle-outline"],[3,"src"],["style","margin-left: 2%; color: rgb(49, 209, 49); font-size: 18px;",4,"ngIf"],[2,"margin-left","2%","color","rgb(49, 209, 49)","font-size","18px"],["position","floating"],["type","text","name","reponse",3,"disabled","ngModel","ngModelChange"],["class","reponseV","slot","end",4,"ngIf"],["class","reponseF","slot","end",4,"ngIf"],["slot","end",1,"reponseV"],["name","checkmark-outline"],["slot","end",1,"reponseF"],["name","close-outline"],[4,"ngFor","ngForOf"],["slot","start","disabled","","color","success",3,"checked",4,"ngIf"],["slot","start",3,"disabled","click"],["text-wrap",""],["class","reponseV",4,"ngIf"],["class","reponseF",4,"ngIf"],["slot","start","disabled","","color","success",3,"checked"],[1,"reponseV"],[1,"reponseF"],[3,"click"],["slot","start","name","chevron-back-outline"],["type","button",3,"click"],[1,"BtnEnd",3,"click"],["slot","end","name","chevron-forward-outline"]],template:function(n,s){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0),e._UZ(2,"ion-back-button",1),e.TgZ(3,"ion-title"),e._uU(4),e.qZA()()(),e.TgZ(5,"ion-content",2)(6,"ion-item")(7,"span"),e._uU(8),e.qZA(),e.TgZ(9,"div",3)(10,"span",4),e.NdJ("click",function(){return s.favourite(s.idQuestion-1)}),e._UZ(11,"ion-icon",5),e.qZA()(),e.TgZ(12,"div",6),e.YNc(13,x,2,0,"span",7),e.YNc(14,v,2,0,"span",8),e.YNc(15,p,2,0,"span",9),e.YNc(16,S,2,0,"span",7),e.YNc(17,U,2,0,"span",8),e.YNc(18,E,2,0,"span",9),e.YNc(19,P,2,0,"span",7),e.YNc(20,I,2,0,"span",8),e.YNc(21,k,2,0,"span",9),e.qZA()(),e.TgZ(22,"div",10),e._uU(23),e.qZA(),e.TgZ(24,"div",11)(25,"ion-card")(26,"form"),e.YNc(27,m,2,3,"span",12),e._UZ(28,"br"),e.YNc(29,R,5,1,"span",12),e.YNc(30,F,9,4,"div",12),e.YNc(31,Y,2,1,"div",12),e.TgZ(32,"div",13)(33,"div",14),e.YNc(34,y,3,0,"ion-button",15),e.qZA(),e.YNc(35,W,3,0,"span",12),e.TgZ(36,"div",16),e.YNc(37,L,3,0,"ion-button",17),e.qZA()()()()()()),2&n&&(e.xp6(4),e.hij("Question ",s.idQuestion," "),e.xp6(4),e.AsE("",s.idQuestion," / ",s.question.length,""),e.xp6(2),e.Q6J("ngClass",e.VKq(21,B,s.question[s.idQuestion-1].favourite)),e.xp6(3),e.Q6J("ngIf","TRUEANSWER"==s.question[s.idQuestion-1].rep1),e.xp6(1),e.Q6J("ngIf","FALSEANSWER"==s.question[s.idQuestion-1].rep1),e.xp6(1),e.Q6J("ngIf","NEUTRALANSWER"==s.question[s.idQuestion-1].rep1),e.xp6(1),e.Q6J("ngIf","TRUEANSWER"==s.question[s.idQuestion-1].rep2),e.xp6(1),e.Q6J("ngIf","FALSEANSWER"==s.question[s.idQuestion-1].rep2),e.xp6(1),e.Q6J("ngIf","NEUTRALANSWER"==s.question[s.idQuestion-1].rep2),e.xp6(1),e.Q6J("ngIf","TRUEANSWER"==s.question[s.idQuestion-1].rep3),e.xp6(1),e.Q6J("ngIf","FALSEANSWER"==s.question[s.idQuestion-1].rep3),e.xp6(1),e.Q6J("ngIf","NEUTRALANSWER"==s.question[s.idQuestion-1].rep3),e.xp6(2),e.hij(" ",s.question[s.idQuestion-1].intitule," "),e.xp6(4),e.Q6J("ngIf",null!=s.question[s.idQuestion-1].image),e.xp6(2),e.Q6J("ngIf",s.checkAns),e.xp6(1),e.Q6J("ngIf",s.question[s.idQuestion-1].reponses[0].reponseUnique),e.xp6(1),e.Q6J("ngIf",!s.question[s.idQuestion-1].reponses[0].reponseUnique),e.xp6(3),e.Q6J("ngIf",s.checkAns),e.xp6(1),e.Q6J("ngIf",s.showBtnVld),e.xp6(2),e.Q6J("ngIf",s.checkAns&&!s.hideNextBtn))},directives:[r.Gu,r.sr,r.oU,r.cs,r.wd,r.W2,r.Ie,Q.mk,r.gu,Q.O5,r.PM,h._Y,h.JL,h.F,r.Xz,r.Q$,r.pK,r.j9,h.JJ,h.On,Q.sg,r.q_,r.nz,r.w,r.YG],styles:[".center[_ngcontent-%COMP%]{margin-right:30%;margin-left:35%}.center[_ngcontent-%COMP%]   #favv[_ngcontent-%COMP%]{font-size:35px}.center[_ngcontent-%COMP%]   .favourite[_ngcontent-%COMP%]{color:#ff0}.lastAnswer[_ngcontent-%COMP%]{position:absolute;right:0;top:0;margin-right:5%;margin-top:7px;margin-bottom:7px}.lastAnswer[_ngcontent-%COMP%]   .valid[_ngcontent-%COMP%]{color:#45c445;font-size:20px}.lastAnswer[_ngcontent-%COMP%]   .failed[_ngcontent-%COMP%]{color:red;font-size:20px}.lastAnswer[_ngcontent-%COMP%]   .neutral[_ngcontent-%COMP%]{color:gray;font-size:20px}.reponseF[_ngcontent-%COMP%]{color:red;font-size:25px}.reponseV[_ngcontent-%COMP%]{color:#45c445;font-size:25px}"]}),i})()}];let V=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[A.Bz.forChild(z)],A.Bz]}),i})(),K=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[Q.ez,h.u5,r.Pc,V]]}),i})()},6386:(Z,q,u)=>{u.d(q,{Y:()=>e});var Q=u(655),h=u(6052),r=u(1269),A=u(5546),b=u(6244),d=u(8779);let e=(()=>{class f{constructor(a,l,g){this.gloabalService=a,this.localSaveQuestion=l,this.toast=g,this.countQustnDonne=0,this.realScore=0,this.tabIndex=[],this.loadScore()}countQuestionDonne(){this.countQustnDonne++}generateScore(){this.realScore=0,this.tabIndex.forEach((l,g)=>{l.nbrTrouve>l.nbrRate&&l.nbrFoisJoue-l.nbrRate>=2||1===l.nbrTrouve&&0===l.nbrRate?this.realScore++:1===l.nbrTrouve&&3===l.nbrRate?this.realScore=this.realScore+1/3:1===l.nbrTrouve&&2===l.nbrRate&&(this.realScore=this.realScore+.5)});let a=Math.round(this.realScore);return this.saveScore(),a}questionDone(a,l,g,x){let v=0;a++,this.tabIndex.forEach(p=>{p.indexQuestion===a&&(g&&(p.nbrRate++,p.nbrFoisJoue++),l&&(p.nbrTrouve++,p.nbrFoisJoue++),x&&(p.nbrFoisJoue++,p.nbrFoisIgnore++),v++)}),0==v&&l?this.tabIndex.push({indexQuestion:a,nbrTrouve:1,nbrRate:0,nbrFoisJoue:1,nbrFoisIgnore:0}):0==v&&g?this.tabIndex.push({indexQuestion:a,nbrTrouve:0,nbrRate:1,nbrFoisJoue:1,nbrFoisIgnore:0}):0==v&&x&&this.tabIndex.push({indexQuestion:a,nbrTrouve:0,nbrRate:0,nbrFoisJoue:1,nbrFoisIgnore:1}),this.saveScore()}saveScore(){h.K.set({key:"Score",value:JSON.stringify(this.tabIndex)})}loadScore(){return(0,Q.mG)(this,void 0,void 0,function*(){const{value:a}=yield h.K.get({key:"Score"});a&&0!==a.length&&"[]"!==a?(this.tabIndex=JSON.parse(a),this.realScore=this.generateScore(),this.saveScore()):yield(yield this.toast.create({message:"Chargement...!",duration:2e3,position:"top"})).present()})}renitialise(){this.questions=this.gloabalService.globalQuestion,this.questions.forEach(a=>{""!=a.rep1&&(a.rep1=""),""!=a.rep2&&(a.rep2=""),""!=a.rep3&&(a.rep3="")}),this.localSaveQuestion.localSave(this.questions),this.tabIndex.length=0,this.realScore=0,this.saveScore()}}return f.\u0275fac=function(a){return new(a||f)(r.LFG(A.U),r.LFG(b.Q),r.LFG(d.yF))},f.\u0275prov=r.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()}}]);