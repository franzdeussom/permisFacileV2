"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[230],{230:(N,d,s)=>{s.r(d),s.d(d,{SignupPageModule:()=>Z});var S=s(9808),l=s(3075),m=s(4030),t=s(8779),p=s(4135),c=s(655),n=s(1269),h=s(9709);const f=[{path:"",component:(()=>{class i{constructor(o,e,a,r){this.navController=o,this.userService=e,this.toastController=a,this.translateService=r,this.account={login:"",email:"",firstName:"",lastName:"",password:"",langKey:"en"},this.translateService.get(["SIGNUP_ERROR","SIGNUP_SUCCESS","EXISTING_USER_ERROR","INVALID_PASSWORD_ERROR"]).subscribe(u=>{this.signupErrorString=u.SIGNUP_ERROR,this.signupSuccessString=u.SIGNUP_SUCCESS,this.existingUserError=u.EXISTING_USER_ERROR,this.invalidPasswordError=u.INVALID_PASSWORD_ERROR})}ngOnInit(){}doSignup(){this.account.login=this.account.email,this.userService.signup(this.account).subscribe(()=>(0,c.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:this.signupSuccessString,duration:3e3,position:"top"})).present()}),o=>(0,c.mG)(this,void 0,void 0,function*(){const e=JSON.parse(o.error);let a=this.signupErrorString;400===o.status&&e.type.includes("already-used")?a=this.existingUserError:400===o.status&&"error.validation"===e.message&&"password"===e.fieldErrors[0].field&&"Size"===e.fieldErrors[0].message&&(a=this.invalidPasswordError),(yield this.toastController.create({message:a,duration:3e3,position:"middle"})).present()}))}}return i.\u0275fac=function(o){return new(o||i)(n.Y36(t.SH),n.Y36(h.K),n.Y36(t.yF),n.Y36(p.sK))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-signup"]],decls:35,vars:22,consts:[["color","tertiary"],["slot","start"],[1,"ion-padding"],[3,"submit"],["position","floating"],["type","string","name","firstName",3,"ngModel","ngModelChange"],["type","string","name","lastName",3,"ngModel","ngModelChange"],["type","email","name","email",3,"ngModel","ngModelChange"],["type","password","name","password",3,"ngModel","ngModelChange"],["expand","block","type","submit","color","primary"]],template:function(o,e){1&o&&(n.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),n._UZ(3,"ion-back-button"),n.qZA(),n.TgZ(4,"ion-title"),n._uU(5),n.ALo(6,"translate"),n.qZA()()(),n.TgZ(7,"ion-content",2)(8,"form",3),n.NdJ("submit",function(){return e.doSignup()}),n.TgZ(9,"ion-list")(10,"ion-item")(11,"ion-label",4),n._uU(12),n.ALo(13,"translate"),n.qZA(),n.TgZ(14,"ion-input",5),n.NdJ("ngModelChange",function(r){return e.account.firstName=r}),n.qZA()(),n.TgZ(15,"ion-item")(16,"ion-label",4),n._uU(17),n.ALo(18,"translate"),n.qZA(),n.TgZ(19,"ion-input",6),n.NdJ("ngModelChange",function(r){return e.account.lastName=r}),n.qZA()(),n.TgZ(20,"ion-item")(21,"ion-label",4),n._uU(22),n.ALo(23,"translate"),n.qZA(),n.TgZ(24,"ion-input",7),n.NdJ("ngModelChange",function(r){return e.account.email=r}),n.qZA()(),n.TgZ(25,"ion-item")(26,"ion-label",4),n._uU(27),n.ALo(28,"translate"),n.qZA(),n.TgZ(29,"ion-input",8),n.NdJ("ngModelChange",function(r){return e.account.password=r}),n.qZA()(),n.TgZ(30,"ion-row",2)(31,"ion-col")(32,"ion-button",9),n._uU(33),n.ALo(34,"translate"),n.qZA()()()()()()),2&o&&(n.xp6(5),n.Oqu(n.lcZ(6,10,"SIGNUP_TITLE")),n.xp6(7),n.Oqu(n.lcZ(13,12,"FIRST_NAME")),n.xp6(2),n.Q6J("ngModel",e.account.firstName),n.xp6(3),n.Oqu(n.lcZ(18,14,"LAST_NAME")),n.xp6(2),n.Q6J("ngModel",e.account.lastName),n.xp6(3),n.Oqu(n.lcZ(23,16,"EMAIL")),n.xp6(2),n.Q6J("ngModel",e.account.email),n.xp6(3),n.Oqu(n.lcZ(28,18,"PASSWORD")),n.xp6(2),n.Q6J("ngModel",e.account.password),n.xp6(4),n.Oqu(n.lcZ(34,20,"SIGNUP_BUTTON")))},directives:[t.Gu,t.sr,t.Sm,t.oU,t.cs,t.wd,t.W2,l._Y,l.JL,l.F,t.q_,t.Ie,t.Q$,t.pK,t.j9,l.JJ,l.On,t.Nd,t.wI,t.YG],pipes:[p.X$],styles:[""]}),i})()}];let Z=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[S.ez,l.u5,t.Pc,m.Bz.forChild(f),p.aw]]}),i})()}}]);